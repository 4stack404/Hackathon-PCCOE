# Diet Planner API

A Flask-based API that generates personalized diet plans based on calorie requirements. The API uses an LLM to analyze a simplified version of the recipe database (containing only IDs, titles, and calories) and suggest specific recipes that match the user's calorie needs, along with snack recommendations.

## Features

- Accepts calorie requirements from frontend
- Uses GRQ's LLM to analyze the recipe database and select appropriate recipes
- Provides multiple recipe options for breakfast, lunch, and dinner from the database
- Includes snack suggestions generated by the LLM
- Returns both diet plan suggestions and detailed recipe information
- Allows users to mix and match meal options

## API Endpoints

### Generate Diet Plan

```
POST /api/diet-plan
```

**Request Body:**

```json
{
  "calories": 2000
}
```

**Response:**

```json
{
  "diet_plan": {
    "breakfast": [
      {
        "recipe_id": 20,
        "calories": 61,
        "comment": "A light, nutritious breakfast option that's low in calories"
      },
      ...
    ],
    "lunch": [...],
    "dinner": [...],
    "snacks": [
      {
        "name": "Greek Yogurt with Berries",
        "calories": 150,
        "description": "1 cup Greek yogurt with 1/2 cup mixed berries"
      },
      ...
    ]
  },
  "detailed_recipes": {
    "breakfast": [
      {
        "id": 20,
        "title": "Masala Oats Idli",
        "image": "https://example.com/image.jpg",
        "calories": 61,
        "prepTime": "30mins",
        "servings": 4,
        "ingredients": [...],
        "instructions": [...],
        "nutritionInfo": {...}
      },
      ...
    ],
    "lunch": [...],
    "dinner": [...]
  }
}
```

### Health Check

```
GET /api/health
```

**Response:**

```json
{
  "status": "ok"
}
```

## Setup

1. Clone the repository
2. Install dependencies:
   ```
   pip install -r requirements.txt
   ```
3. Create a `.env` file with your GRQ API key (see `.env.example`)
4. Run the application:
   ```
   python app.py
   ```

## For Frontend Developers

The frontend team should call the `/api/diet-plan` endpoint with the user's calorie requirements. The API will return a diet plan with recipes selected from the database based on their calorie content and suitability, along with snack suggestions. The response includes both the diet plan (with recipe IDs and comments) and the detailed recipe information for each suggested recipe. Users can mix and match different meals to create their personalized daily meal plan.
